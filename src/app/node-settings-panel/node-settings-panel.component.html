<!-- Настройки узла -->
<mat-accordion class="example-headers-align">
    <mat-expansion-panel> 
      <mat-expansion-panel-header>
        <mat-panel-title>
        <label for="">Вопрос: 
          <span style="font-size: 11px">{{currentNode.props[0].value}}</span></label>
        </mat-panel-title>
      </mat-expansion-panel-header>
      <div *ngFor="let prop of currentNode.props">
        <div class="textarea-field" *ngIf="prop.type === 2">
          <mat-form-field>
              <textarea matInput placeholder="{{prop.name}}" value="{{prop.value}}"></textarea>
          </mat-form-field>
        </div>
        <div class="input-field" *ngIf="prop.type === 1">
          <mat-form-field>
              <input matInput placeholder="{{prop.name}}" value="{{prop.value}}">
          </mat-form-field>
        </div>
        <div class="select-field" *ngIf="prop.type === 3">
          <mat-form-field>
              <mat-label>{{prop.name}}</mat-label>
              <mat-select>
                <mat-option *ngFor="let value of prop.value.value" [value]="value.selected">
                  {{value}}
                </mat-option>
              </mat-select>
            </mat-form-field>
        </div>
        <div class="keys-card-field" *ngIf="prop.type === 4">
              <mat-card class="example-card">
                <mat-card-header>
                  <mat-card-subtitle>Слова для распознования ответа</mat-card-subtitle>
              </mat-card-header>
                <mat-card-content>
                  <mat-chip-list #chipList aria-label="Keywords selection">
                    <mat-chip *ngFor="let key of prop.match" [selectable]="selectable"
                              [removable]="removable" (removed)="remove(key)">
                      {{key}}
                      <mat-icon matChipRemove *ngIf="removable">o</mat-icon>
                    </mat-chip>
                    <input placeholder="Добавить слово..." matInput
                            [matChipInputFor]="chipList"
                            [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                            [matChipInputAddOnBlur]="addOnBlur"
                            (matChipInputTokenEnd)="add($event)">
                  </mat-chip-list>
                  </mat-card-content>
              </mat-card>
              <br/>
            </div>
      </div>
    </mat-expansion-panel>
  </mat-accordion>
  <!-- Дочерние узлы с сопоставлением слов -->
  <mat-accordion class="example-headers-align">
      <mat-expansion-panel> 
        <mat-expansion-panel-header>
          <mat-panel-title>
            <span style="font-size: 12px">Дочерние узлы</span>
          </mat-panel-title>
        </mat-expansion-panel-header>
            <div *ngFor="let edge of currentNode.edgeList">
              <mat-card class="example-card">
                <mat-card-header>
                  <mat-card-subtitle>Слова для перехода по ветке {{edge.id}}</mat-card-subtitle>
                </mat-card-header>
                <mat-card-content>
                    <mat-form-field>
                        <input matInput placeholder="Имя следующего узла" value="{{edge.id}}">
                    </mat-form-field>
                  <mat-chip-list #chipList aria-label="Keywords selection">
                      <mat-chip *ngFor="let key of edge.match" [selectable]="selectable"
                                [removable]="removable" (removed)="remove(key)">
                        {{key}}
                        <mat-icon matChipRemove *ngIf="removable">o</mat-icon>
                      </mat-chip>
                      <input placeholder="Добавить слово..." matInput
                              [matChipInputFor]="chipList"
                              [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                              [matChipInputAddOnBlur]="addOnBlur"
                              (matChipInputTokenEnd)="add($event)">
                    </mat-chip-list>
                </mat-card-content>
              </mat-card>
              <br/>
            </div>
      </mat-expansion-panel>
    </mat-accordion>
    <!-- Дочерние узлы без слов -->
    <mat-accordion class="example-headers-align">
      <mat-expansion-panel> 
        <mat-expansion-panel-header>
          <mat-panel-title>
            <span style="font-size: 12px">Дочерние узлы</span>
          </mat-panel-title>
        </mat-expansion-panel-header>
            <div *ngFor="let edge of currentNode.edgeList">
              <mat-card class="valid-node-card">
                <mat-card-header>
                  <mat-card-subtitle>Переход в случае успеха</mat-card-subtitle>
                </mat-card-header>
                <mat-card-content>
                    <mat-form-field>
                        <input matInput placeholder="Имя узла" value="{{edge.id}}">
                    </mat-form-field>
                </mat-card-content>
              </mat-card>
              <br/>
              <mat-card class="fallback-node-card">
                <mat-card-header>
                  <mat-card-subtitle>Переход в случае неудачи</mat-card-subtitle>
                </mat-card-header>
                <mat-card-content>
                    <mat-form-field>
                        <input matInput placeholder="Имя узла" value="{{edge.id}}">
                    </mat-form-field>
                </mat-card-content>
              </mat-card>
              <br/>
            </div>
      </mat-expansion-panel>
    </mat-accordion>
