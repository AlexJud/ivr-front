<!-- Это поле нужно для загрузки файлов -->
<input type="file" (change)="uploadFile($event)" accept="*/xml" #file [hidden]="true">
<!-- Вызываем панель для SpecifierNode -->
<app-grid-settings-panel [currentTable]="dataSource" (deleteEvent)="deleteRow($event)"></app-grid-settings-panel>
<!-- Таблица с параметрами -->
<div class="option-table">
    <table mat-table [dataSource]="dataSource" class="example-container mat-elevation-z8">
        <ng-container *ngFor="let item of columnsData" matColumnDef={{item.columnId}}>
            <th mat-header-cell *matHeaderCellDef class="table-head"> {{item.columnName}} </th>
            <td mat-cell *matCellDef="let element; let i = index" (mouseenter)="onHover(element)">
                <div [ngSwitch]="element.type[item.columnId]">
                    <ng-template ngSwitchCase="0">
                        <span>{{element[item.columnId]}}​</span>
                    </ng-template>
                    <ng-template ngSwitchCase="1">
                        <input matInput placeholder="Введите значение..." [(ngModel)]="element[item.columnId]" (focusout)="onChange($event)" (input)="onChange($event)"/>
                    </ng-template>
                    <ng-template ngSwitchCase="2">
                        <mat-select [(value)] = "element[item.columnId].selected" (selectionChange) = "changeGrammar(element, item.columnId, i)" 
                            [disabled]="element[item.columnId].selected === null">
                            <mat-option *ngFor="let option of element[item.columnId].value" [(value)]="option">{{option}}</mat-option>
                        </mat-select>
                    </ng-template>
                </div>
            </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
</div>
<!-- (focusout)="onChange($event)" (input)="onChange($event)" -->
    
    <!-- <div class="option-table" *ngIf="isOption">
      <table mat-table [dataSource]="dataSource" class="example-container mat-elevation-z8">
          <ng-container matColumnDef="option">
              <th mat-header-cell *matHeaderCellDef class="table-head"> Параметр </th>
              <td mat-cell *matCellDef="let element"> {{element.option}} </td>
          </ng-container>
          <ng-container matColumnDef="value">
              <th mat-header-cell *matHeaderCellDef class="table-head"> Значение </th>
              <td mat-cell *matCellDef="let element;let i = index">
                    <input matInput placeholder="Введите значение..." *ngIf="!element.isSelect" [(ngModel)]="element.value"
                        (focusout)="onChange($event)" (input)="onChange($event)"/>
                    <mat-select *ngIf="element.isSelect" [(value)] = element.selected (selectionChange) = changeGrammar(element) [disabled]="element.disabled">
                        <mat-option *ngFor="let option of element.value" [(value)]="option">{{option}}</mat-option>
                    </mat-select>
              </td>
          </ng-container>
          <ng-container matColumnDef="checked">
                <th mat-header-cell *matHeaderCellDef class="table-head"></th>
                <td mat-cell class="check-box" *matCellDef="let element;let i = index">
                        <mat-checkbox (change)="selectRow(i)"></mat-checkbox>
                </td>
            </ng-container>
          <ng-container matColumnDef="varName">
              <th mat-header-cell *matHeaderCellDef class="table-head"> Название переменной </th>
              <td mat-cell *matCellDef="let element;let i = index">
                  <input matInput placeholder="Введите значение..." [(ngModel)]="element.varName"
                        (focusout)="onChange($event)" (input)="onChange($event)">
              </td>
          </ng-container>
          <ng-container matColumnDef="synthText">
              <th mat-header-cell *matHeaderCellDef class="table-head"> Текст для синтеза </th>
              <td mat-cell *matCellDef="let element;let i = index">
                  <input matInput placeholder="Введите значение..." [(ngModel)]="element.synthText"
                        (focusout)="onChange($event)" (input)="onChange($event)">
              </td>
          </ng-container>
          <ng-container matColumnDef="asrOptions">
              <th mat-header-cell *matHeaderCellDef class="table-head"> Опции распознавания </th>
              <td mat-cell *matCellDef="let element;let i = index">
                  <input matInput placeholder="Введите значение..." [(ngModel)]="element.asrOptions"
                        (focusout)="onChange($event)" (input)="onChange($event)">
              </td>
          </ng-container>
          <ng-container matColumnDef="recognizeWay">
            <th mat-header-cell *matHeaderCellDef class="table-head"> Способ распознавания </th>
            <td mat-cell *matCellDef="let element;let i = index">
                  <mat-select [(value)] = element.selected (selectionChange) = changeGrammar(element)>
                      <mat-option *ngFor="let option of element.recognizeWay" [(value)]="option">{{option}}</mat-option>
                  </mat-select>
            </td>
        </ng-container>
          <ng-container matColumnDef="grammar">
              <th mat-header-cell *matHeaderCellDef class="table-head"> Грамматика </th>
              <td mat-cell *matCellDef="let element;let i = index">
                    <mat-select [(value)] = element.selected (selectionChange) = changeGrammar(element) [disabled]="element.disabled">
                        <mat-option *ngFor="let option of element.grammar" [(value)]="option">{{option}}</mat-option>
                    </mat-select>
              </td>
          </ng-container>
          <ng-container matColumnDef="keywords">
              <th mat-header-cell *matHeaderCellDef class="table-head"> Ключевые слова </th>
              <td mat-cell *matCellDef="let element;let i = index">
                  <input matInput placeholder="Введите значение..." [(ngModel)]="element.keywords"
                        (focusout)="onChange($event)" (input)="onChange($event)">
              </td>
          </ng-container>
          <ng-container matColumnDef="repeat">
              <th mat-header-cell *matHeaderCellDef class="table-head"> Количество повторений </th>
              <td mat-cell *matCellDef="let element;let i = index">
                  <input matInput placeholder="Введите значение..." [(ngModel)]="element.repeat"
                        (focusout)="onChange($event)" (input)="onChange($event)">
              </td>
          </ng-container>
          
          <tr mat-header-row *matHeaderRowDef="displayedColumnsForOptions"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumnsForOptions;"></tr>
    </table>
    </div>
    <div class="children-table" *ngIf="isChildren">
      <table mat-table [dataSource]="dataSource" class="example-container mat-elevation-z8">
          <ng-container matColumnDef="id">
              <th mat-header-cell *matHeaderCellDef class="table-head"> Дочерние узлы </th>
              <td mat-cell *matCellDef="let element; let i = index">
                  <input matInput placeholder="Введите значение..." [(ngModel)]="element.id"
                        (focusout)="onChange($event)" (input)="onChange($event)">
              </td>
          </ng-container>
          <ng-container matColumnDef="keywords">
            <th mat-header-cell *matHeaderCellDef class="table-head"> Ключевые слова </th>
            <td mat-cell *matCellDef="let element; let i = index">
                <textarea matInput placeholder="Список ключевых слов через запятую" [(ngModel)]="element.keywords"
                        (focusout)="onChange($event)" (input)="onChange($event)"></textarea>
            </td>
        </ng-container>
          <tr mat-header-row *matHeaderRowDef="displayedColumnsForChildren"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumnsForChildren;"></tr>
      </table>
    </div> -->